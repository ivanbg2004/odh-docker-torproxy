####### AUTO-GENERATED FILE, DO NOT EDIT #######
# This file is automatically generated by the OD&H TorProxy image.
# Customize the Tor configuration using environment variables or
# by mounting your own torrc file.  See the documentation for details.

# --- Basic Settings ---

# The virtual address network for Tor
VirtualAddrNetwork 10.192.0.0/10

# Enable automatic mapping of hostnames to .onion addresses
AutomapHostsOnResolve 1

# The port for the Socks5 proxy
SocksPort 1080

# Tor's DNS port
DNSPort 53

# Transparent proxy port (used for redirecting all traffic through Tor)
TransPort 9040

# --- Security Settings ---

# Disable verbose logging to protect privacy
SafeLogging 1

# Enforce strict node selection
StrictNodes 1

# Disable the ability for Tor to execute external commands
NoExec 1

# Disable attaching debuggers to the Tor process
DisableDebuggerAttachment 1

# --- Performance Settings ---

# Limit the lifetime of circuits (adjust as needed)
MaxCircuitDirtiness 3600

# Enable entry guards to protect against Sybil attacks
UseEntryGuards 1

# --- Pluggable Transports ---

# Enable pluggable transports for censorship circumvention
ClientTransportPlugin meek_lite,obfs2,obfs3,obfs4,scramblesuit exec /usr/local/bin/lyrebird
ClientTransportPlugin meek exec /usr/local/bin/meek-client
ClientTransportPlugin snowflake exec /usr/local/bin/snowflake-client

# --- Logging ---

# Log messages of level 'notice' or higher to a file
Log notice file /var/log/tor/notices.log

# --- Control Port (Disabled by default for security) ---
# Enable the control port to allow external control of Tor.
# Warning: This is disabled by default for security reasons.  If you
# enable it, you MUST set a strong password using HashedControlPassword.
# ControlPort 9051
# HashedControlPassword 16:<hashed_password>

# --- Include Custom Configuration Files ---

# Include custom configuration files from /etc/tor/torrc.d/
# This allows you to add or override settings without modifying this file.
%include /etc/tor/torrc.d/*.conf
